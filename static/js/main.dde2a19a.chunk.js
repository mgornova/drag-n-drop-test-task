(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n,c=a(0),o=a.n(c),l=a(2),r=a.n(l),i=a(3),s=a(4),u=a(19),b=a.n(u),d=a(6),p=a(1),m=a(8);!function(e){e.generateBlocks="generate random blocks",e.setPosition="set new position of block",e.clear="clear all block"}(n||(n={}));var h=function(e,t){var a=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n+1-a))+a},f=function(e){for(var t=null!==e&&void 0!==e?e:Math.floor(20*Math.random())+1,a={},n=1;n<=t;n++){var c=h(10,100),o=h(10,100);a[n]={id:n,width:c,height:o,x:h(0,600-c),y:h(0,400-o),color:"#".concat(Math.floor(16777215*Math.random()).toString(16))}}return a},j={container:{width:600,height:400},blocks:{}},O=Object(s.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.setPosition:return Object(p.a)(Object(p.a)({},e),{},{blocks:Object(p.a)(Object(p.a)({},e.blocks),{},Object(d.a)({},t.payload.id,Object(p.a)(Object(p.a)({},e.blocks[t.payload.id]),{},{x:t.payload.position.x,y:t.payload.position.y})))});case n.generateBlocks:return Object(p.a)(Object(p.a)({},e),{},{blocks:f(t.payload.count)});case n.clear:return j;default:return e}}),Object(s.a)(b.a)),k=a(7),y=a(20),g=a.n(y),v=function(e){var t=e.onSetup,a=Object(c.useState)(void 0),n=Object(k.a)(a,2),l=n[0],r=n[1];return o.a.createElement("div",{className:"setup-container"},o.a.createElement("h1",{className:"setup-title"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),o.a.createElement("p",{className:"setup-description"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0442 ",1," \u0434\u043e ",20," \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0447\u0442\u043e\u0431\u044b \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e."),o.a.createElement("label",{className:"setup-label"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432:"),o.a.createElement("input",{className:"setup-input",type:"number",min:1,max:20,value:l,onChange:function(e){if(""!==e.target.value){var t=Math.round(+e.target.value);r(t<1?1:t>20?20:t)}else r(void 0)}}),o.a.createElement("p",null,o.a.createElement("button",{className:"primary-button",onClick:function(){return t(l)}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))},E=function(){var e=Object(c.useState)(21),t=Object(k.a)(e,2),a=t[0],l=t[1],r=Object(i.b)(),s=Object(i.c)((function(e){return e.container})),u=Object(i.c)((function(e){return e.blocks})),b=Object(c.useCallback)((function(e){r(function(e){return Object(m.action)(n.generateBlocks,{count:e})}(e))}),[r]),d=Object(c.useCallback)((function(){r(Object(m.action)(n.clear))}),[r]),p=Object(c.useCallback)((function(e,t){t.node.style.zIndex="".concat(a+1),l(a+1)}),[a]),h=Object(c.useCallback)((function(e,t){var a,c;void 0!==t.node.dataset.id&&r((a=t.node.dataset.id,c={x:t.x,y:t.y},Object(m.action)(n.setPosition,{id:a,position:c})))}),[r]);return o.a.createElement("div",{className:"app"},u&&0!==Object.keys(u).length?null:o.a.createElement(v,{onSetup:b}),u&&Object.keys(u).length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container",style:{width:"".concat(s.width,"px"),height:"".concat(s.height,"px")}},Object.keys(u).map((function(e){return o.a.createElement(g.a,{key:e,bounds:"parent",defaultPosition:{x:u[e].x,y:u[e].y},onStart:p,onStop:h},o.a.createElement("div",{className:"draggable-block","data-id":e,style:{background:u[e].color,width:"".concat(u[e].width,"px"),height:"".concat(u[e].height,"px")}}))}))),o.a.createElement("button",{className:"primary-button",onClick:d},"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e")):null)};a(34);r.a.render(o.a.createElement(i.a,{store:O},o.a.createElement(E,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.dde2a19a.chunk.js.map